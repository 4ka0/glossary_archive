{% load static %}

<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/custom.css' %}">

    <title>Honyaku Archive</title>
</head>

<body>
    <main>

        <div class="container-fluid">
            <div class="row">

                <!-- Banner -->
                <nav class="navbar navbar-expand-lg navbar-light bg-light py-3">
                    <div class="container-fluid">

                        <!-- Title -->
                        <a class="navbar-brand" href="{% url 'home' %}">Honyaku Archive</a>

                        {% if user.is_authenticated %}

                            <!-- Search form -->
                            <form action="{% url 'search_results' %}"
                                  method="get"
                                  class="d-flex" >

                                <!-- Search bar -->
                                <input name="query"
                                       type="search"
                                       placeholder="Enter text ..."
                                       class="form-control search-bar me-3">

                                <!-- Resources dropdown list -->
                                <div class="input-group glossary-dropdown me-3">
                                    <select name="resource" id="inputGroupSelect" class="form-select">
                                        <option selected>All resources</option>
                                        {% for resource in resources %}
                                            <option value="{{ resource }}">{{ resource|title }}</option>
                                        {% endfor %}
                                    </select>
                                </div>

                                <!-- Search and help button -->
                                <button class="btn btn-outline-primary me-3" type="submit">Search</button>
                                <a href="#" data-bs-toggle="modal" data-bs-target="#searchHelpModal" class="btn btn-outline-secondary me-2" role="button">Help</a>

                            </form>

                            <!-- Dropdown menu -->
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                  Actions
                                </a>
                                <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                    <li><a class="dropdown-item" href="{% url 'entry_create' %}">Add term</a></li>
                                    <li><a class="dropdown-item" href="{% url 'glossary_upload' %}">Add glossary</a></li>
                                    <li><a class="dropdown-item" href="{% url 'logout' %}">Log out</a></li>
                                </ul>
                            </li>

                            <!-- Help modal -->
                            <div class="modal fade" id="searchHelpModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">

                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">Search Help</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>

                                        <div class="modal-body">
                                            <p>
                                                <strong>To search for a specific term:</strong><br>
                                                &middot; enter the term into the search box<br>
                                                &middot; select the resource you want to search in<br>
                                                &middot; press the "Search" button
                                            </p>
                                            <p>
                                                <strong>To display the entire content of a specific resource:</strong><br>
                                                &middot; leave the search box empty<br>
                                                &middot; select the resource you want to display<br>
                                                &middot; press the "Search" button
                                            </p>
                                        </div>

                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Close</button>
                                        </div>

                                    </div>
                                </div>
                            </div>  <!-- Help modal end -->

                        {% endif %}

                    </div>
                </nav>

                <div class="col">

                    <!-- Main content -->
                    <div>
                        {% block content %}
                        {% endblock %}
                    </div>

                </div>

            </div>
        </div>

    </main>

    <!-- Bootstrap and Popper JS -->
    <script src="{% static 'js/bootstrap.bundle.js' %}"></script>

</body>

</html>